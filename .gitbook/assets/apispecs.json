{"openapi":"3.0.3","info":{"title":"rust-postgres-crud-sqlx","description":"","license":{"name":""},"version":"0.1.0"},"paths":{"/api/files/{id}":{"get":{"tags":["crate"],"operationId":"get_file_by_id","parameters":[{"name":"id","in":"path","description":"File Uuid (e.g 2b377fba-903f-4957-b33d-3ed2c2b2b848)","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FileResponse"}}}}},"404":{"description":"Files not found","content":{"text/plain":{"schema":{"type":"string"}}}},"500":{"description":"Internal server error","content":{"text/plain":{"schema":{"type":"string"}}}}}}},"/files":{"post":{"tags":["crate"],"operationId":"create_file","requestBody":{"description":"all parameters are required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateFile"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileResponse"}}}},"404":{"description":"Files not found","content":{"text/plain":{"schema":{"type":"string"}}}},"500":{"description":"Internal server error","content":{"text/plain":{"schema":{"type":"string"}}}}}}},"/files/user/{id}":{"get":{"tags":["crate"],"operationId":"get_files_by_user_id","parameters":[{"name":"id","in":"path","description":"User Uuid (e.g 2b377fba-903f-4957-b33d-3ed2c2b2b848)","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FileResponse"}}}}},"404":{"description":"Files not found","content":{"text/plain":{"schema":{"type":"string"}}}},"500":{"description":"Internal server error","content":{"text/plain":{"schema":{"type":"string"}}}}}}},"/files/{id}":{"delete":{"tags":["crate"],"operationId":"delete_file","parameters":[{"name":"id","in":"path","description":"File Uuid (e.g 2b377fba-903f-4957-b33d-3ed2c2b2b848)","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FileResponse"}}}}},"404":{"description":"File not found","content":{"text/plain":{"schema":{"type":"string"}}}},"500":{"description":"Internal server error","content":{"text/plain":{"schema":{"type":"string"}}}}}},"patch":{"tags":["crate"],"operationId":"edit_file","parameters":[{"name":"id","in":"path","description":"File Uuid (e.g 2b377fba-903f-4957-b33d-3ed2c2b2b848)","required":true,"schema":{"type":"string"}}],"requestBody":{"description":"not all parameters are required","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdateFile"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FileResponse"}}}}},"404":{"description":"Files not found","content":{"text/plain":{"schema":{"type":"string"}}}},"500":{"description":"Internal server error","content":{"text/plain":{"schema":{"type":"string"}}}}}}},"/users":{"post":{"tags":["crate"],"operationId":"create_user","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreateUser"}}},"required":true},"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdSchema"}}}},"404":{"description":"Files not found","content":{"text/plain":{"schema":{"type":"string"}}}},"500":{"description":"Internal server error","content":{"text/plain":{"schema":{"type":"string"}}}}}}},"/users/{mail}":{"get":{"tags":["crate"],"operationId":"get_user_id_by_mail","parameters":[{"name":"mail","in":"path","description":"User Mail","required":true,"schema":{"type":"string"}}],"responses":{"200":{"description":"OK, User Uuid","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IdSchema"}}}},"404":{"description":"User not found","content":{"text/plain":{"schema":{"type":"string"}}}},"500":{"description":"Internal server error","content":{"text/plain":{"schema":{"type":"string"}}}}}}}},"components":{"schemas":{"CreateFile":{"type":"object","required":["fullname","sizebytes","ownerUserId"],"properties":{"fullname":{"type":"string"},"ownerUserId":{"type":"string"},"sizebytes":{"type":"integer","format":"int64"}}},"CreateUser":{"type":"object","required":["userName","mail"],"properties":{"mail":{"type":"string"},"userName":{"type":"string"}}},"FileResponse":{"type":"object","required":["id","fullname","sizebytes"],"properties":{"averageRating":{"type":"number","format":"float","nullable":true},"created":{"type":"string","nullable":true},"downloads":{"type":"integer","format":"int32","nullable":true},"fullname":{"type":"string"},"id":{"type":"string"},"sizebytes":{"type":"integer","format":"int64"}}},"IdSchema":{"type":"object","required":["id"],"properties":{"id":{"type":"string"}}},"UpdateFile":{"type":"object","properties":{"average_rating":{"type":"number","format":"float","nullable":true},"downloads":{"type":"integer","format":"int32","nullable":true},"fullname":{"type":"string","nullable":true}}}}}}