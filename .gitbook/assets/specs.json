{"openapi":"3.0.3","info":{"title":"three-dee-files-rest-api","description":"","contact":{"name":"Hannes Roever","email":""},"license":{"name":""},"version":"0.1.0"},"paths":{"/files":{"get":{"tags":["crate"],"operationId":"get_files","responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/File"}}}}},"404":{"description":"Files not found","content":{"text/plain":{"schema":{"type":"string"}}}}},"deprecated":false},"post":{"tags":["crate"],"operationId":"add_file","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PostFile"}}},"required":true},"responses":{"201":{"description":"File created successfully.","content":{"text/plain":{"schema":{"type":"string"}}}},"404":{"description":"Files not found","content":{"text/plain":{"schema":{"type":"string"}}}},"500":{"description":"Internal Server Error","content":{"text/plain":{"schema":{"type":"string"}}}}},"deprecated":false}},"/files/{id}":{"get":{"tags":["crate"],"operationId":"get_file","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"$ref":"#/components/schemas/File"}}}},"404":{"description":"Files not found","content":{"text/plain":{"schema":{"type":"string"}}}},"500":{"description":"Internal Server Error","content":{"text/plain":{"schema":{"type":"string"}}}}},"deprecated":false}},"/files/{id}/history":{"get":{"tags":["crate"],"operationId":"get_file_history","parameters":[{"name":"id","in":"path","required":true,"schema":{"type":"integer","format":"int32"}}],"responses":{"200":{"description":"OK","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/FileHistory"}}}}},"404":{"description":"File history for id not found.","content":{"text/plain":{"schema":{"type":"string"}}}},"500":{"description":"Internal Server Error","content":{"text/plain":{"schema":{"type":"string"}}}}},"deprecated":false}}},"components":{"schemas":{"File":{"type":"object","required":["pk_id","name","author","created","size","downloads","rating"],"properties":{"author":{"type":"string"},"created":{"type":"string"},"downloads":{"type":"integer","format":"int32"},"name":{"type":"string"},"pk_id":{"type":"integer","format":"int32"},"rating":{"type":"number","format":"float"},"size":{"type":"integer","format":"int64"}}},"FileHistory":{"type":"object","required":["pk_id","changed","author","state","content"],"properties":{"author":{"type":"string"},"changed":{"type":"string"},"content":{"type":"string"},"pk_id":{"type":"integer","format":"int32"},"state":{"type":"string"}}},"PostFile":{"type":"object","required":["name","author","size"],"properties":{"author":{"type":"string"},"name":{"type":"string"},"size":{"type":"integer","format":"int64"}}}}}}